webpackJsonp([1],{1222:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var i=a(0),s=l(i),n=a(15),o=l(n),r=a(8),c=l(r),u=a(10),d=a(107),p=l(d),f=a(572),m=l(f),_=a(573),v=l(_),h=a(574),z=l(h);null!==document.getElementById("movies-root")&&c.default.get("/api2/movies/getList").then(function(e){window.moviesData=e.data,o.default.render(s.default.createElement(m.default,null),document.getElementById("movies-root"))}),null!==document.getElementById("movies-footer-search")&&o.default.render(s.default.createElement(v.default,null),document.getElementById("movies-footer-search")),null!==document.getElementById("rjs-series-container")&&o.default.render(s.default.createElement(u.Provider,{store:p.default},s.default.createElement(z.default,null)),document.getElementById("rjs-series-container"))},299:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(105),d=a(60),p=a(19),f=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.isMouseOnResult=!1,a.inputLanguage=0,a.onFocus=function(){a.setState({focused:!0})},a.onBlur=function(){a.isMouseOnResult||a.setState({focused:!1})},a.mouseEnter=function(){a.isMouseOnResult=!0},a.onMouseLeave=function(){a.isMouseOnResult=!1},a.videoItem=function(e){var t=e.genres.length>0?e.genres.map(function(e){return d.genreList[e]+" "}):"",a=!1;switch(e.accent){case 1:a=c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-uk"});break;case 2:a=c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-us"});break;case 3:a=c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-au"});break;default:a=c.default.createElement("div",null)}for(var l=[],i=function(e){return c.default.createElement("span",{key:e,className:"b-slide_footer__level_cell"})},s=0;s<e.difficulty;s++)l.push(i(s));return c.default.createElement("a",{className:"puzzle-movies__search-popup-list-item-over-link",href:e.videoURl,key:e.movie_id},c.default.createElement("div",{className:"puzzle-movies__search-popup-list-item"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-10"},c.default.createElement("div",{className:"puzzle-movies__search-popup-list-poster puzzle-movies__search-popup-list-poster_left puzzle-movies__search-popup-list-poster_hide"},c.default.createElement("img",{className:"puzzle_img_responsive",src:e.posterUrl,alt:e.title_en})),c.default.createElement("div",{className:"puzzle-movies__search-popup-list-text puzzle-movies__search-popup-list-text_pl"},c.default.createElement("div",{className:"puzzle-movies__search-popup-list-title"},c.default.createElement("strong",null,e.title_en)),c.default.createElement("div",{className:"puzzle-movies__search-popup-list-genre puzzle_mb_5"},e.title_ru,", ",e.release_year),c.default.createElement("div",{className:"puzzle-movies__search-popup-list-type puzzle_mb_5"},e.mediaType),c.default.createElement("div",{className:"puzzle-movies__search-popup-list-genre"},t),1==e.is_hidden&&c.default.createElement("div",{className:"puzzle-movies__draft-ribbon puzzle-movies__draft-ribbon_search-popup"},c.default.createElement("span",{className:"puzzle-text_ff_arial puzzle-text_fz_14 puzzle_va_top"},"Черновик")))),c.default.createElement("div",{className:"col-xs-2 puzzle_ta_right"},a&&c.default.createElement("div",{className:"puzzle-movies__selected-popup-accents puzzle_va_top"},c.default.createElement("div",{className:"b-slide_footer__accent"},a)),c.default.createElement("div",{className:"puzzle-movies__selected-popup-level puzzle_va_top"},c.default.createElement("div",{className:"b-slide_footer__level m-slide_footer__level-"+e.difficulty},c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"})))))))},a.showResult=function(){if(a.state.focused&&!(a.state.inputTerm.length<3)){var e=[];if(a.state.foundVideos.length>0)for(var t=0;t<5&&t<a.state.foundVideos.length;t++)e.push(a.videoItem(a.state.foundVideos[t]));else e=c.default.createElement("div",{className:"puzzle-movies__search-popup-empty"},"По вашему запросу ничего не найдено");return c.default.createElement("div",{className:"puzzle-movies__search-popup",onMouseEnter:a.mouseEnter,onMouseLeave:a.onMouseLeave},c.default.createElement("div",{className:"puzzle-movies__search-popup-list"},e),a.state.foundVideos.length>4&&c.default.createElement(u.Link,{to:"/search-result"},c.default.createElement("div",{className:"puzzle-movies__search-popup-footer"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-11 col-xs-offset-1"},c.default.createElement("div",{className:"puzzle-movies__search-popup-footer-link"},c.default.createElement("span",{className:"puzzle-movies__search-popup-footer-link-text"},"Все результаты"),c.default.createElement("span",{className:"puzzle-movies__search-popup-footer-link-num"},"(",a.state.foundVideos.length,")")))))))}},a.onInputChange=function(e){a.setState({inputTerm:e}),0!==e.length&&a.props.onSearch(e)},a.emptyInput=function(){a.setState({inputTerm:""})},a.onSubmit=function(e){e.preventDefault(),a.setState({submited:!0})},a.state={inputTerm:"",foundVideos:a.props.foundVideos,focused:!1,submited:!1},a.showFound="undefined"==typeof a.props.showResult||a.props.showResult,a}return n(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({foundVideos:e.foundVideos})}},{key:"render",value:function(){var e=this,t=this.state.focused?"":"Найти фильм, сериал или мультфильм";return this.state.submited&&this.showFound?(window.scrollTo(0,0),c.default.createElement(u.Redirect,{push:!0,to:"/search-result"})):c.default.createElement("div",{className:"puzzle-movies__search"},c.default.createElement("div",{className:"row center-xs"},c.default.createElement("div",{id:"series-suggest",className:"col-xs-12 col-sm-11 puzzle-text_fz_20"},c.default.createElement("form",{id:"series-suggest",className:"b-serials__search-form puzzle-search puzzle-search_style_white puzzle-search_border_round",onSubmit:this.onSubmit},c.default.createElement("span",{id:"show_here"}),c.default.createElement("input",{id:"word",className:"puzzle-search__input puzzle_va_middle",placeholder:t,type:"text",autoComplete:"off",value:this.state.inputTerm,onFocus:this.onFocus,onChange:function(t){return e.onInputChange(t.target.value)},onBlur:this.onBlur}),this.state.inputTerm&&c.default.createElement("i",{className:"puzzle-icon puzzle-movies__search-close-icon",onClick:function(){return e.emptyInput()}},p.searchCloseThinIcon),c.default.createElement("i",{className:"b-serials__search-form-icon puzzle-movies__search-form-icon puzzle-icon"},p.searchThinIcon),this.showFound&&this.showResult()))))}}]),t}(r.Component);t.default=f},572:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(105),d=a(22),p=a(156),f=l(p),m=(a(930),a(745)),_=l(m),v=a(743),h=l(v),z=a(739),y=l(z),b=a(744),g=l(b),E=a(742),w=l(E),N=a(60),k="/",x=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.inputLanguage=0,a.previousSortValue=-1,a.genreFilterCount=0,a.counts={total:0,shows:0,movies:0,cartoons:0,hiddenShows:0,hiddenMovies:0,hiddenCartoons:0},a.previousSearchTerm="",a.filterBySearch=function(e){switch(a.inputLanguage){case 1:return a.searchRegEx.test(e.title_en);case 2:return a.searchRegEx.test(e.title_ru);default:return a.searchRegEx.test(e.title_en)||a.searchRegEx.test(e.title_ru)}},a.onSearch=function(e){var t=e.replace(/\s$/,""),l={shouldSort:!0,threshold:.23,tokenize:!0,matchAllTokens:!0,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["searchTarget"]},i=new f.default(a.videos,l),s=i.search(t);a.setState({foundVideos:s,searchTerm:e})},a.onDoubleSubsClick=function(){a.setState({doubleSubs:!a.state.doubleSubs},function(){return a.filterList()})},a.onHideWatchedClick=function(){a.setState({hideWatched:!a.state.hideWatched},function(){return a.filterList()})},a.formFilterState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){var l=e.map(function(){return!1}),i=t?a.getParamFromUrl(t):[];return i.length>0?i.forEach(function(e){e%1===0&&"undefined"!=typeof l[e]&&(l[e]=!0)}):l[0]=!0,l}return a.getParamFromUrl(t).length?a.getParamFromUrl(t)[0]:0},a.getParamFromUrl=function(e){var t=window.location.href;if("undefined"!=typeof URL){var l=new URL(t);if("undefined"!=typeof l.searchParams){var i=l.searchParams.getAll(e);return i}var s=a.getAllUrlParams(t)[e];return"undefined"!=typeof s&&s.length>0?s:[]}var n=a.getAllUrlParams(t)[e];return"undefined"!=typeof n&&n.length>0?n:[]},a.onSort=function(e){a.setState({sortType:e},function(){return a.sortList()})},a.sortList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=[];switch(null===e&&(e=a.state.videoList),a.state.sortType){case 1:l=(0,d.orderBy)(e,"popularity","desc");break;case 2:l=(0,d.orderBy)(e,"last_update","desc");break;case 3:l=(0,d.orderBy)(e,"title_en");break;case 4:l=(0,d.orderBy)(e,"title_en","desc");break;case 5:l=(0,d.orderBy)(e,"title_ru");break;case 6:l=(0,d.orderBy)(e,"title_ru","desc");break;case 7:l=(0,d.orderBy)(e,"release_year");break;case 8:l=(0,d.orderBy)(e,"release_year","desc");break;case 9:l=(0,d.orderBy)(e,"media_type");break;default:l=(0,d.orderBy)(e,"rating","desc")}return t?l:void a.setState({videoList:l})},a.onFilterSelect=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=[];switch(e){case 1:l=a.state.filterAccent;break;case 2:l=a.state.filterDifficulty;break;case 3:l=a.state.filterGenre;break;case 4:l=a.state.filterYear;break;case 5:return void a.setState({doubleSubs:!1},function(){return a.filterList()});case 6:return void a.setState({hideWatched:!1},function(){return a.filterList()});case 100:return void a.setState({filterAccent:a.resetFilter(a.state.filterAccent),filterDifficulty:a.resetFilter(a.state.filterDifficulty),filterGenre:a.resetFilter(a.state.filterGenre),filterYear:a.resetFilter(a.state.filterYear),doubleSubs:!1,hideWatched:!1},function(){return a.filterList()});default:return}if(l[t]=!l[t],0===t&&l[0])l=a.resetFilter(l);else if(0!==t||l[0]){if(0!==t){for(var i=!1,s=1;s<l.length;s++)l[s]&&(i=!0);l[0]=!i}}else{for(var n=!1,o=1;o<l.length;o++)l[o]&&(n=!0);l[0]=!n}switch(e){case 1:a.setState({filterAccent:l},function(){return a.filterList()});break;case 2:a.setState({filterDifficulty:l},function(){return a.filterList()});break;case 3:a.setState({filterGenre:l},function(){return a.filterList()});break;case 4:a.setState({filterYear:l},function(){return a.filterList()})}},a.resetFilter=function(e){var t=e.map(function(){return!1});return t[0]=!0,t},a.onTypeSelect=function(e){1===e?(a.previousSortValue=a.state.sortType,a.setState({mediaType:e,sortType:9},function(){return a.filterList()})):a.previousSortValue>-1&&9===a.state.sortType?(a.setState({mediaType:e,sortType:a.previousSortValue},function(){return a.filterList()}),a.previousSortValue=-1):a.setState({mediaType:e},function(){return a.filterList()})},a.onCardTypeSelect=function(e){a.setState({cardType:e})},a.filterByGenre=function(e){var t=0;if(e.genres.forEach(function(e){a.state.filterGenre[e]&&t++}),t===a.genreFilterCount)return!0},a.filterList=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.genreFilterCount=0,a.state.filterGenre.forEach(function(e){e&&a.genreFilterCount++});var t=[];return a.videos.forEach(function(e){0!==a.state.mediaType&&!a.filterByMediaType(a.state.mediaType,e)||!a.state.filterAccent[0]&&!a.filterByAccent(e)||!a.state.filterDifficulty[0]&&!a.filterByDifficulty(e)||!a.state.filterYear[0]&&!a.filterByYear(e)||!a.state.filterGenre[0]&&!a.filterByGenre(e)||a.state.doubleSubs&&!e.double_sub||a.state.hideWatched&&e.is_watched||t.push(e)}),e?a.sortList(t,e):void a.sortList(t,e)},a.onAboutClick=function(e){},a.MainPage=function(){return c.default.createElement("div",null,c.default.createElement(_.default,{newVideos:a.newVideos,watchingNow:a.watchingNow,userFavorites:a.userFavorites,movieOfTheDay:a.movieOfTheDay}),c.default.createElement(y.default,{onSort:a.onSort,onTypeSelect:a.onTypeSelect,onSearch:a.onSearch,foundVideos:a.state.foundVideos,onCardTypeSelect:a.onCardTypeSelect,counts:a.counts,onFilterDelete:a.onFilterDelete,onFilterSelect:a.onFilterSelect,onDoubleSubsClick:a.onDoubleSubsClick,onHideWatchedClick:a.onHideWatchedClick,typeSelect:a.state.mediaType,accentSelect:a.state.filterAccent,difficultySelect:a.state.filterDifficulty,genreSelect:a.state.filterGenre,yearSelect:a.state.filterYear,sortSelect:a.state.sortType,doubleSubsSelect:a.state.doubleSubs,hideWatchedSelect:a.state.hideWatched,cardSelect:a.state.cardType,foundByFilterCount:a.state.videoList.length}),c.default.createElement(g.default,{videos:a.state.videoList,cardType:a.state.cardType,onAboutClick:a.onAboutClick}),a.movieOfTheDay.movie_id&&c.default.createElement(w.default,{movieOfTheDay:a.movieOfTheDay}))},a.SearchPage=function(){return c.default.createElement("div",null,c.default.createElement(h.default,{onSearch:a.onSearch,foundVideos:a.state.foundVideos,showFound:!1}),c.default.createElement("div",{className:"row puzzle_mt_50 puzzle_mb_80"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"puzzle-text_fz_30 puzzle-text_fw_300 puzzle_ta_center"},a.state.foundVideos.length>0?'По запросу "'+a.state.searchTerm+'" найдено:':'По запросу "'+a.state.searchTerm+'" ничего не найдено'))),c.default.createElement(g.default,{videos:a.state.foundVideos,cardType:a.state.cardType,mainPage:!1}))},a.FavoritesPage=function(){return c.default.createElement("div",null,c.default.createElement(h.default,{onSearch:a.onSearch,foundVideos:a.state.foundVideos,showFound:!0}),c.default.createElement(g.default,{videos:a.userFavorites,cardType:a.state.cardType}))},a.NewVideosPage=function(){return c.default.createElement("div",null,c.default.createElement(h.default,{onSearch:a.onSearch,foundVideos:a.state.foundVideos,showFound:!0}),c.default.createElement(g.default,{videos:a.newVideos,cardType:a.state.cardType}))},a.NowWatchingPage=function(){return c.default.createElement("div",null,c.default.createElement(h.default,{onSearch:a.onSearch,foundVideos:a.state.foundVideos,showFound:!0}),c.default.createElement(g.default,{videos:a.watchingNow,cardType:a.state.cardType}))},localStorage.removeItem("moviesState"),"function"!=typeof Object.values&&(Object.prototype.values=function(e){return Object.keys(e).map(function(t){return e[t]})}),a.data=window.moviesData,a.videos=a.data.movies,"undefined"!=typeof sessionStorage&&(sessionStorage.moviesData=JSON.stringify(a.videos)),a.favoritesIds=a.data.favorites.map(function(e){return e.id}),a.newVideosIds=a.data.new.map(function(e){return e.id}),a.nowWatchingIds=a.data.now_watching.map(function(e){return e.id}),a.movieOfTheDay=a.data.movie_of_the_day,a.userFavorites=[],a.newVideos=[],a.watchingNow=[];var l={},n=0;a.counts.total=a.videos.length;for(var o=0,r=0;r<a.counts.total;r++){switch(o=a.videos[r].movie_id,a.videos[r].searchTarget=a.videos[r].title_en+" "+a.videos[r].title_ru+" "+a.videos[r].release_year,a.favoritesIds.includes(o)&&(l=a.videos[r],n=a.favoritesIds.indexOf(o),l.likedDate=a.data.favorites[n].date,a.userFavorites.push(l)),a.newVideosIds.includes(o)&&(a.newVideos.push(a.videos[r]),a.newVideos[a.newVideos.length-1].update_text=a.data.new.filter(function(e){return e.id==o})[0].update_text),a.nowWatchingIds.includes(o)&&(l=a.videos[r],n=a.nowWatchingIds.indexOf(o),l.count=a.data.now_watching[n].count,a.watchingNow.push(l)),a.videos[r].movie_id=r,a.videos[r].media_type<3?(a.videos[r].posterUrl="https://static.puzzle-movies.com/series/video/"+a.videos[r].slug+"/small.jpg",a.videos[r].videoURl="/"+a.videos[r].slug):(a.videos[r].posterUrl="https://static.puzzle-movies.com/movies/"+a.videos[r].slug+"/small.jpg",a.videos[r].videoURl="/films/"+a.videos[r].slug),"undefined"!=typeof a.videos[r].rating&&(a.videos[r].raiting=a.videos[r].rating.toFixed(1)),a.videos[r].media_type){case 1:a.videos[r].mediaType="Сериал Премиум",a.videos[r].is_hidden?a.counts.hiddenShows++:a.counts.shows++;break;case 2:a.videos[r].mediaType="Сериал",a.videos[r].is_hidden?a.counts.hiddenShows++:a.counts.shows++;break;case 3:a.videos[r].mediaType="Фильм",a.videos[r].is_hidden?a.counts.hiddenMovies++:a.counts.movies++;break;case 4:a.videos[r].mediaType="Мультфильм",a.videos[r].is_hidden?a.counts.hiddenCartoons++:a.counts.cartoons++;break;default:a.videos[r].mediaType=""}a.userFavorites=(0,d.orderBy)(a.userFavorites,"likedDate","desc"),a.newVideos=(0,d.orderBy)(a.newVideos,"last_update","desc"),a.watchingNow=(0,d.orderBy)(a.watchingNow,"count","desc")}var u=/type=|accent=|difficulty=|genre=|year=/i;if(u.test(window.location.search)||"undefined"==typeof localStorage.moviesState){var p=parseInt(a.formFilterState(!1,"type"));a.state={videoList:a.videos,searchTerm:"",loading:!1,mediaType:p,sortType:1===p?9:8,filterAccent:a.formFilterState(N.accentDropdownItems,"accent"),filterDifficulty:a.formFilterState(N.difficultyDropdownItems,"difficulty"),filterGenre:a.formFilterState(N.genreDropdownItems,"genre"),filterYear:a.formFilterState(N.yearDropdownItems,"year"),showModal:!1,cardType:0,foundVideos:[],doubleSubs:!0,hideWatched:!1}}else{var m=JSON.parse(localStorage.moviesState);a.state={videoList:a.videos,searchTerm:"",loading:!1,mediaType:m.mediaType,sortType:m.sortType,filterAccent:m.filterAccent,filterDifficulty:m.filterDifficulty,filterGenre:m.filterGenre,filterYear:m.filterYear,showModal:!1,cardType:m.cardType,foundVideos:[],doubleSubs:m.doubleSubs,hideWatched:m.hideWatched}}return a}return n(t,e),o(t,[{key:"componentDidMount",value:function(){this.filterList();var e=this.formFilterState(!1,"search_term");e&&this.onSearch(e)}},{key:"getAllUrlParams",value:function(e){var t=e?e.split("?")[1]:window.location.search.slice(1),a={};if(t){t=t.split("#")[0];for(var l=t.split("&"),i=0;i<l.length;i++){var s=l[i].split("="),n=void 0,o=s[0].replace(/\[\d*\]/,function(e){return n=e.slice(1,-1),""}),r="undefined"==typeof s[1]||s[1];o=o.toLowerCase(),r=r.toLowerCase(),a[o]?(a[o].length>1&&(a[o]=[a[o]]),"undefined"==typeof n?a[o].push(r):a[o][n]=r):a[o]=[r]}}return a}},{key:"filterByMediaType",value:function(e,t){if(t.media_type===e||2===t.media_type&&1===e)return!0}},{key:"filterByAccent",value:function(e){if(this.state.filterAccent[e.accent]||this.state.filterAccent[4]&&e.accent>3)return!0}},{key:"filterByDifficulty",value:function(e){if(this.state.filterDifficulty[e.difficulty])return!0}},{key:"filterByYear",value:function(e){if(this.state.filterYear[1]&&e.release_year<1990||this.state.filterYear[2]&&e.release_year>=1990&&e.release_year<2e3||this.state.filterYear[3]&&e.release_year>=2e3&&e.release_year<2010||this.state.filterYear[4]&&e.release_year>=2010)return!0}},{key:"render",value:function(){return c.default.createElement(u.BrowserRouter,null,c.default.createElement("div",{className:"page-wrapper"},c.default.createElement(u.Route,{exact:!0,path:k,component:this.MainPage}),c.default.createElement(u.Route,{path:"/search-result",component:this.SearchPage}),c.default.createElement(u.Route,{path:"/favorites",component:this.FavoritesPage}),c.default.createElement(u.Route,{path:"/new-videos",component:this.NewVideosPage}),c.default.createElement(u.Route,{path:"/now-watching",component:this.NowWatchingPage})))}}]),t}(r.Component);t.default=x},573:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(156),d=l(u),p=a(57),f=l(p),m=a(60),_=a(19),v=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.dataLoaded=!1,a.dataLoading=!1,a.movies=[],a.previousSearchTerm="",a.loadData=function(){"undefined"!=typeof sessionStorage&&"undefined"!=typeof sessionStorage.moviesData?a.processData(JSON.parse(sessionStorage.moviesData)):f.default.get("/api2/movies/get_list").then(function(e){a.processData(e.data.movies)})},a.processData=function(e){a.movies=e;for(var t=0;t<a.movies.length;t++)switch(a.movies[t].searchTarget=a.movies[t].title_en+" "+a.movies[t].title_ru+" "+a.movies[t].release_year,a.movies[t].media_type){case 1:a.movies[t].mediaType="Сериал Премиум";break;case 2:a.movies[t].mediaType="Сериал";break;case 3:a.movies[t].mediaType="Фильм";break;case 4:a.movies[t].mediaType="Мультфильм"}a.dataLoaded=!0,a.onSearch(a.state.inputTerm)},a.onSubmit=function(e){e.preventDefault();var t="/search-result?search_term="+a.state.inputTerm;a.openWindow(t,"_blank"),a.isMouseOnResult=!1,a.onBlur()},a.onInputChange=function(e){a.setState({inputTerm:e}),!a.dataLoaded||e.length<3||a.onSearch(e)},a.emptyInput=function(){a.setState({inputTerm:""})},a.onFocus=function(){a.dataLoaded||a.dataLoading||(a.dataLoading=!0,a.loadData()),a.setState({focused:!0})},a.onBlur=function(){a.isMouseOnResult||a.setState({focused:!1,inputTerm:""})},a.mouseEnter=function(){a.isMouseOnResult=!0},a.onMouseLeave=function(){a.isMouseOnResult=!1},a.onSearch=function(e){var t=e.replace(/\s$/,""),l={shouldSort:!0,threshold:.23,tokenize:!0,matchAllTokens:!0,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["searchTarget"]},i=void 0;i=a.previousSearchTerm===e.slice(0,-1)?new d.default(a.state.foundVideos,l):new d.default(a.movies,l);var s=i.search(t);a.setState({foundVideos:s}),a.previousSearchTerm=e},a.videoItem=function(e){var t=e.genres.length>0?e.genres.map(function(e){return m.genreList[e]+" "}):"",a=!1;switch(e.accent){case 1:a=c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-uk"});break;case 2:a=c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-us"});break;case 3:a=c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-au"});break;default:a=c.default.createElement("div",null)}for(var l=[],i=function(e){return c.default.createElement("span",{key:e,className:"b-slide_footer__level_cell"})},s=0;s<e.difficulty;s++)l.push(i(s));return e.media_type<3?(e.posterUrl="https://static.puzzle-movies.com/series/video/"+e.slug+"/small.jpg",e.videoURl="/"+e.slug):(e.posterUrl="https://static.puzzle-movies.com/movies/"+e.slug+"/small.jpg",e.videoURl="/films/"+e.slug),c.default.createElement("a",{className:"puzzle-movies__search-popup-list-item-over-link",href:e.videoURl,key:e.movie_id},c.default.createElement("div",{className:"puzzle-movies__search-popup-list-item"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-10"},c.default.createElement("div",{className:"puzzle-movies__search-popup-list-poster puzzle-movies__search-popup-list-poster_left puzzle-movies__search-popup-list-poster_hide"},c.default.createElement("img",{className:"puzzle_img_responsive",src:e.posterUrl,alt:e.title_en})),c.default.createElement("div",{className:"puzzle-movies__search-popup-list-text puzzle-movies__search-popup-list-text_pl"},c.default.createElement("div",{className:"puzzle-movies__search-popup-list-title"},c.default.createElement("strong",null,e.title_en)," (",e.title_ru,", ",e.release_year,")"),c.default.createElement("div",{className:"puzzle-movies__search-popup-list-type puzzle_mb_5"},e.mediaType),c.default.createElement("div",{className:"puzzle-movies__search-popup-list-genre"},t),1==e.is_hidden&&c.default.createElement("div",{className:"puzzle-movies__draft-ribbon puzzle-movies__draft-ribbon_search-popup"},c.default.createElement("span",{className:"puzzle-text_ff_arial puzzle-text_fz_14 puzzle_va_top"},"Черновик")))),c.default.createElement("div",{className:"col-xs-2 puzzle_ta_right"},c.default.createElement("div",{className:"puzzle-movies__selected-popup-accents puzzle_va_middle"},c.default.createElement("div",{className:"b-slide_footer__accent"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-us"}))),c.default.createElement("div",{className:"puzzle-movies__selected-popup-level puzzle_va_top"},c.default.createElement("div",{className:"b-slide_footer__level m-slide_footer__level-"+e.difficulty},c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"})))))))},a.showResult=function(){if(a.state.focused&&!(a.state.inputTerm.length<3)&&a.dataLoaded){var e=[];if(a.state.foundVideos.length>0)for(var t=0;t<5&&t<a.state.foundVideos.length;t++)e.push(a.videoItem(a.state.foundVideos[t]));else e=c.default.createElement("div",{className:"puzzle-movies__search-popup-empty"},"По вашему запросу ничего не найдено");return c.default.createElement("div",{className:"puzzle-movies__search-popup",onMouseEnter:a.mouseEnter,onMouseLeave:a.onMouseLeave},c.default.createElement("div",{className:"puzzle-movies__search-popup-list"},e),a.state.foundVideos.length>4&&c.default.createElement("div",{className:"puzzle-movies__search-popup-footer",onClick:a.onSubmit},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-11 col-xs-offset-1"},c.default.createElement("div",{className:"puzzle-movies__search-popup-footer-link"},c.default.createElement("span",{className:"puzzle-movies__search-popup-footer-link-text"},"Все результаты"),c.default.createElement("span",{className:"puzzle-movies__search-popup-footer-link-num"},"(",a.state.foundVideos.length,")"))))))}},a.getInputIcon=function(){return!a.dataLoaded&&a.state.inputTerm?c.default.createElement("span",{id:"search_preloader"}):a.state.inputTerm?c.default.createElement("i",{className:"puzzle-icon puzzle-icon_close",onClick:function(){return a.emptyInput()}},_.searchCloseIcon):c.default.createElement("i",{className:"puzzle-icon puzzle-icon_search"},_.searchIcon)},a.state={focused:!1,inputTerm:"",foundVideos:[]},a}return n(t,e),o(t,[{key:"openWindow",value:function(e,t){var a=window.open(e,t);a.focus()}},{key:"render",value:function(){var e=this,t=this.state.focused?"puzzle-search__input puzzle_va_middle focused":"puzzle-search__input puzzle_va_middle",a=this.state.focused?"":"Найти фильм, сериал или мультфильм";return c.default.createElement("form",{name:"search_menu",id:"headerSearch",action:"/",method:"get",autoComplete:"off",className:"puzzle-search puzzle-search_anim_width puzzle-search_type_footer-movie puzzle-search_style_white puzzle-search_border_round puzzle-search_size_l",onSubmit:this.onSubmit},c.default.createElement("input",{className:t,placeholder:a,type:"text",value:this.state.inputTerm,onFocus:this.onFocus,onChange:function(t){return e.onInputChange(t.target.value)},onBlur:this.onBlur}),this.getInputIcon(),this.showResult())}}]),t}(r.Component);t.default=v},574:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),d=l(u),p=a(10),f=a(8),m=l(f),_=a(750),v=l(_),h=a(756),z=l(h),y=a(755),b=l(y),g=a(751),E=l(g),w=(o=(0,p.connect)(),o(r=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.isWaitingForChange=!1,a.checkLocationHash=function(){if(location.hash){var e={},t=window.episodes.some(function(t){return t.episodes.some(function(t){return t.post_name===location.hash.substr(1)&&(e=t,!0)})});t&&(a.setEpisode(e),a.setState({activeSeason:e.season-1}))}},a.setTab=function(e){a.setState({activeTab:e})},a.setSeason=function(e){a.setState({activeSeason:e})},a.setEpisodeData=function(e,t){window.post_id=t.ID,window.SUBTITLES=e.subtitles,window.QUIZES=e.quizes,window.video_path=e.videoPath,window.dictor_path=e.dictorPath,location.hash=t.post_name,1===window.serialInfo.media_type&&a.props.dispatch({type:"FEATURED_WORD_DATA",payload:{postId:t.ID,featuredWords:e.featuredWords,featuredWordsUnchecked:e.featuredWordsUnchecked}}),a.state.activeEpisode||(a.serialInfo.style.display="none",a.serialRelative.style.display="none"),a.setState({activeEpisode:t,episodeData:e,activeEpisodeID:t.ID,activeTab:0},function(){
window.scrollTo(0,document.getElementById("seriesFilmsMainVideoContent").getBoundingClientRect().top+window.pageYOffset),window.videoSettingsControls()})},a.checkStoredData=function(e){var t=0;return t=window.user.can_watch_movie?21600:window.user.logged_in?10800:3600,e-10>Math.ceil(Date.now()/1e3)-t},a.setEpisode=function(e){var t=sessionStorage.getItem("m:"+window.serialInfo.movie_id+"s:"+e.season+"e:"+e.episode);null!==t&&a.checkStoredData(JSON.parse(t).storedTime)?a.setEpisodeData(JSON.parse(t),e):m.default.post("/api2/movies/getEpisodeData",{postID:e.ID,mediaType:window.serialInfo.media_type,movieID:window.serialInfo.movie_id,slug:window.serialInfo.slug}).then(function(t){t.data.storedTime=Math.ceil(Date.now()/1e3);try{sessionStorage.setItem("m:"+window.serialInfo.movie_id+"s:"+e.season+"e:"+e.episode,JSON.stringify(t.data))}catch(e){console.log(e)}a.setEpisodeData(t.data,e)}),a.isWaitingForChange=!1},a.getNextEpisode=function(){var e=a.state.episodes.find(function(e){return e.season===a.state.activeEpisode.season}),t=e.episodes.find(function(e){return e.episode===a.state.activeEpisode.episode+1});return void 0!==t?t:e.episodes[e.episodes.length-1].episode===a.state.activeEpisode.episode&&(e=a.state.episodes.find(function(e){return e.season===a.state.activeEpisode.season+1}),void 0!==e&&(t=e.episodes.find(function(e){return 1===e.episode}),void 0!==t))&&(a.setSeason(a.state.activeSeason+1),t)},a.setNextEpisode=function(){var e=a.getNextEpisode();if(e){a.isWaitingForChange=!0;var t="Эпизод "+e.episode+", Сезон "+e.season+"<br>"+e.title_ru+'<div id="cancel_next_episode" class="link-like">Отменить</div>',l=video_api.duration()-video_api.currentTime(),i=l<30?Math.floor(l):30;puzzleNotification(t,"",'Автоматический переход к следующему эпизоду через <span id="pe-notification__cd"></span>',0,!1),startTimer(i,$("#pe-notification__cd"),function(){$(".puzzle-notification").fadeOut(400),a.setEpisode(e)})}else puzzleNotification("","","Следующий эпизод не доступен",0,!0)},a.showInfo=function(){a.setState({activeEpisode:!1},function(){video_api.pause()}),a.serialInfo.style.display="block",a.serialRelative.style.display="block"},a.onVideoEnded=function(){a.isWaitingForChange||(a.state.activeEpisode.is_watched||a.toggleWatched(a.state.activeEpisode),window.user.can_watch_movie&&"on"===window.storage.get("autocontinue")&&a.setNextEpisode())},a.toggleWatched=function(e){m.default.post("/api2/movies/toggleWatched",{post_id:e.ID,watched:+!e.is_watched}),e.is_watched=!e.is_watched;var t=a.findSeason(e.season),l=a.findEpisode(t,e.episode);a.state.episodes[t].episodes[l].is_watched=e.is_watched;var i=document.getElementById("iswatched"+e.ID);e.is_watched?i.classList.add("status-watched"):i.classList.remove("status-watched")},a.findSeason=function(e){return a.state.episodes.findIndex(function(t){return t.season===e})},a.findEpisode=function(e,t){return a.state.episodes[e].episodes.findIndex(function(e){return e.episode===t})},a.state={episodeID:"",episodes:window.episodes,activeSeason:0|localStorage.getItem("m:"+window.serialInfo.movie_id+":activeSeason"),activeEpisode:!1,episodeData:{},isPremium:!1,words:"",explanations:"",activeTab:0,activeEpisodeID:-1},a}return n(t,e),c(t,[{key:"componentWillMount",value:function(){this.serialInfo=document.getElementById("serial-info"),this.serialRelative=document.getElementById("serial-relative"),this.checkLocationHash()}},{key:"componentDidMount",value:function(){var e=this;window.onbeforeunload=function(){localStorage.setItem("m:"+window.serialInfo.movie_id+":activeSeason",e.state.activeSeason)}}},{key:"render",value:function(){var e=this.state.activeEpisode?"block":"none";return d.default.createElement("div",null,this.state.activeEpisode&&d.default.createElement("div",null,d.default.createElement(z.default,{episode:this.state.activeEpisode,activeTab:this.state.activeTab,setTab:this.setTab,showInfo:this.showInfo}),1===window.serialInfo.media_type&&d.default.createElement(b.default,{episodeData:this.state.episodeData,activeTab:this.state.activeTab})),d.default.createElement("div",{style:{display:e}},d.default.createElement(E.default,{videoURL:this.state.episodeData.videoURL,setNextEpisode:this.setNextEpisode,onVideoEnded:this.onVideoEnded})),d.default.createElement(v.default,{activeSeason:this.state.activeSeason,episodes:this.state.episodes,setSeason:this.setSeason,setEpisode:this.setEpisode,activeEpisodeID:this.state.activeEpisodeID,toggleWatched:this.toggleWatched}))}}]),t}(u.Component))||r);t.default=w},60:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=["Любой жанр","Боевик","Детектив","Документальный","Драма","История","Комедия","Мелодрама","Музыка","Спорт","Телешоу","Триллер","Фантастика","Фэнтези"],i=[{key:0,value:"Любой акцент",style_flag:""},{key:1,value:"Британский",style_flag:"uk"},{key:2,value:"Американский",style_flag:"us"},{key:3,value:"Австралийский",style_flag:"au"},{key:4,value:"Другие акценты",style_flag:""}],s=[{key:0,value:"Любая сложность"},{key:1,value:"Для начинающих"},{key:2,value:"Средняя сложность"},{key:3,value:"Очень сложно"}],n=[{key:0,value:"Любой жанр"},{key:1,value:"Боевик"},{key:2,value:"Детектив"},{key:3,value:"Документальный"},{key:4,value:"Драма"},{key:5,value:"История"},{key:6,value:"Комедия"},{key:7,value:"Мелодрама"},{key:8,value:"Музыка"},{key:9,value:"Спорт"},{key:10,value:"Телешоу"},{key:11,value:"Триллер"},{key:12,value:"Фантастика"},{key:13,value:"Фэнтези"}],o=[{key:0,value:"Все года"},{key:1,value:"до 1990"},{key:2,value:"1990 – 2000"},{key:3,value:"2000 – 2010"},{key:4,value:"2010 – сегодня"}],r=[{key:0,value:"По рейтингу"},{key:1,value:"По популярности"},{key:2,value:"По дате обновления"},{key:3,value:"По названию: A - Z"},{key:4,value:"По названию: Z - A"},{key:5,value:"По названию: А - Я"},{key:6,value:"По названию: Я - А"},{key:7,value:"Сначала старые"},{key:8,value:"Сначала новые"},{key:9,value:"Сначала Premium"}];t.genreList=l,t.accentDropdownItems=i,t.difficultyDropdownItems=s,t.genreDropdownItems=n,t.yearDropdownItems=o,t.sortDropdownItems=r},739:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(299),d=l(u),p=a(740),f=l(p),m=a(741),_=a(19),v=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props.doubleSubsSelect?"puzzle-movies__category-subs puzzle-movies__category-subs_js_tooltip puzzle-icon puzzle_mr_30 puzzle_va_middle check-box__target check-box__target_checked":"puzzle-movies__category-subs puzzle-movies__category-subs_js_tooltip puzzle-icon puzzle_mr_30 puzzle_va_middle check-box__target",a=this.props.hideWatchedSelect?"puzzle-movies__category-eye puzzle-movies__category-eye_js_tooltip puzzle-icon puzzle_mr_15 puzzle_va_middle check-box__target check-box__target_checked":"puzzle-movies__category-eye puzzle-movies__category-eye_js_tooltip puzzle-icon puzzle_mr_15 puzzle_va_middle check-box__target";return c.default.createElement("section",{className:"puzzle-movies__content"},c.default.createElement("div",{className:"container-fluid-1600"},c.default.createElement("div",{className:"row center-xs"},c.default.createElement("div",{className:"col-xs-12 col-sm-8 col-md-6"},c.default.createElement(d.default,{onSearch:this.props.onSearch,foundVideos:this.props.foundVideos}))),c.default.createElement("div",{className:"puzzle-movies__category puzzle_mt_40 puzzle_mb_40"},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement(m.TypeSwitcher,{onSelect:this.props.onTypeSelect,counts:this.props.counts,selected:this.props.typeSelect}),c.default.createElement("div",{className:"col-xs-12 col-sm-5 col-md-4 puzzle_ta_right puzzle_ta_xs_center"},c.default.createElement("div",{className:"j-checkbox-line puzzle_va_middle"},c.default.createElement("input",{type:"checkbox",name:"",style:{display:"none"}}),c.default.createElement("i",{className:a,onClick:function(){e.props.onHideWatchedClick()},style:{width:28,height:18}},this.props.hideWatchedSelect?_.eyeIcon:_.eyeOpenIcon)),c.default.createElement("div",{id:"categoryEyeTooltipContent",style:{display:"none"}},c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16 puzzle_ml_10"},this.props.hideWatchedSelect?"Показывать просмотренные":"Скрывать просмотренные")),c.default.createElement("div",{className:"j-checkbox-line puzzle_va_middle"},c.default.createElement("input",{type:"checkbox",name:"",style:{display:"none"}}),c.default.createElement("i",{className:t,onClick:function(){e.props.onDoubleSubsClick()},style:{width:23,height:18}},_.subsIcon)),c.default.createElement("div",{id:"showDoubleSubsTooltip",style:{display:"none"}},c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16 puzzle_ml_10"},"Показывать только",c.default.createElement("br",null),"с двойными субтитрами ",this.props.doubleSubsSelect?"(включено)":"(отключено)")),c.default.createElement(m.CardSwitcher,{selected:this.props.cardSelect,onSelect:this.props.onCardTypeSelect})))),c.default.createElement("div",{className:"row"},c.default.createElement(f.default,{onFilterDelete:this.props.onFilterSelect,accent:this.props.accentSelect,difficulty:this.props.difficultySelect,genre:this.props.genreSelect,year:this.props.yearSelect,doubleSubs:this.props.doubleSubsSelect,hideWatched:this.props.hideWatchedSelect,found:this.props.foundByFilterCount})),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-sm-9 col-md-8"},c.default.createElement("div",{className:"puzzle-movies__filter"},c.default.createElement(m.AccentDropdown,{onSelect:this.props.onFilterSelect,selected:this.props.accentSelect}),c.default.createElement(m.DifficultyDropdown,{onSelect:this.props.onFilterSelect,selected:this.props.difficultySelect}),c.default.createElement(m.GenreDropdown,{onSelect:this.props.onFilterSelect,selected:this.props.genreSelect}),c.default.createElement(m.YearDropdown,{onSelect:this.props.onFilterSelect,selected:this.props.yearSelect}))),c.default.createElement("div",{className:"col-xs-12 col-sm-3 col-md-4 puzzle_ta_right"},c.default.createElement(m.SortDropdown,{onSelect:this.props.onSort,selected:this.props.sortSelect})))))}}]),t}(r.Component);t.default=v},740:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(19),d={accents:[null,"Британский акцент","Американский акцент","Автралийский акцент","Другие акценты"],difficulties:[null,"Для начинающих","Средняя сложность","Очень сложно"],genres:[null,"Боевик","Детектив","Документальный","Драма","История","Комедия","Мелодрама","Музыка","Спорт","Телешоу","Триллер","Фантастика","Фэнтези"],years:[null,"до 1990","1990 - 2000","2000 - 2010","2010 - сегодня"],subs:[null,"Двойные субтитры"],hideWatched:[null,"Скрывать просмотренные"]},p=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.active=!1,a.onFilterDelete=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.props.onFilterDelete(e,t)},a.singleItem=function(e,t,l){if(null!==t)return c.default.createElement("div",{key:t,className:"puzzle-tag puzzle-tag_size_m puzzle-movies-tag puzzle_va_middle puzzle_mr_15 puzzle_mb_20"},c.default.createElement("span",{className:"puzzle-tag__title puzzle_mr_30 puzzle_va_middle puzzle-text_fz_16"},t),c.default.createElement("div",{onClick:function(){return a.onFilterDelete(e,l)},className:"j-reset__filter puzzle-tag__close puzzle_va_middle"},c.default.createElement("i",{className:"puzzle-icon puzzle-movies-tag__close"},u.closeIcon)))},a.renderItems=function(){var e=[];return a.state.accent.forEach(function(t,l){t&&l>0&&e.push(a.singleItem(1,d.accents[l],l))}),a.state.difficulty.forEach(function(t,l){t&&l>0&&e.push(a.singleItem(2,d.difficulties[l],l))}),a.state.genre.forEach(function(t,l){t&&l>0&&e.push(a.singleItem(3,d.genres[l],l))}),a.state.year.forEach(function(t,l){t&&l>0&&e.push(a.singleItem(4,d.years[l],l))}),a.state.doubleSubs&&e.push(a.singleItem(5,d.subs[1],1)),a.state.hideWatched&&e.push(a.singleItem(6,d.hideWatched[1],1)),a.active=e.length>0,e},a.state={accent:a.props.accent,difficulty:a.props.difficulty,genre:a.props.genre,year:a.props.year,doubleSubs:a.props.doubleSubs,hideWatched:a.props.hideWatched,found:a.props.found},a}return n(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({accent:e.accent,difficulty:e.difficulty,genre:e.genre,year:e.year,doubleSubs:e.doubleSubs,hideWatched:e.hideWatched,found:e.found})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"col-xs-12"},this.active&&c.default.createElement("div",{className:"puzzle-tag puzzle-tag_size_m puzzle-movies-tag puzzle_va_middle puzzle_mr_15 puzzle_mb_20",style:{background:"#65a964"}},c.default.createElement("span",{className:"puzzle-tag__title puzzle_va_middle puzzle-text_fz_16"},"Найдено: ",this.state.found)),this.renderItems(),this.active&&c.default.createElement("span",{onClick:function(){return e.onFilterDelete(100)},className:"puzzle-link puzzle-link_style_dashed puzzle-text_fz_16 puzzle_va_middle puzzle_mb_20"},"Сбросить настройки"))}}]),t}(r.Component);t.default=p},741:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SortDropdown=t.YearDropdown=t.GenreDropdown=t.DifficultyDropdown=t.AccentDropdown=t.TypeSwitcher=t.CardSwitcher=t.SeenSwitcher=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(748),d=l(u),p=a(749),f=l(p),m=a(19),_=a(60),v=function(e){function t(){var e,a,l,n;i(this,t);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return a=l=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),l.multiple=!0,l.title="Акцент",l.items=_.accentDropdownItems,l.type=1,n=a,s(l,n)}return n(t,e),t}(d.default),h=function(e){function t(){var e,a,l,n;i(this,t);for(var o=arguments.length,r=Array(o),u=0;u<o;u++)r[u]=arguments[u];return a=l=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),l.multiple=!0,l.title="Сложность",l.items=_.difficultyDropdownItems,l.type=2,l.multipleDropdownItem=function(e){var t="b-slide_footer__level m-slide_footer__level-"+e.key;return c.default.createElement("div",{key:e.key,className:"puzzle-movies__filter-menu-item"},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement("div",{className:"col-xs-2 puzzle_ta_left"},l.multipleItem(e)),c.default.createElement("div",{className:"col-xs-8"},c.default.createElement("div",{onClick:function(){return l.singleToggleSelected(e.key)},className:"puzzle_va_middle puzzle-text_fz_16 puzzle_ml_10"},e.value)),c.default.createElement("div",{className:"col-xs-2 puzzle_ta_right"},c.default.createElement("div",{className:"puzzle-movies__selected-popup-level puzzle_va_middle"},c.default.createElement("div",{className:t},c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}))))))},n=a,s(l,n)}return n(t,e),t}(d.default),z=function(e){function t(){var e,a,l,n;i(this,t);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return a=l=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),l.title="Жанр",l.items=_.genreDropdownItems,l.multiple=!0,l.type=3,n=a,s(l,n)}return n(t,e),t}(d.default),y=function(e){function t(){var e,a,l,n;i(this,t);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return a=l=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),l.title="Год выпуска",l.items=_.yearDropdownItems,l.multiple=!0,l.type=4,n=a,s(l,n)}return n(t,e),t}(d.default),b=function(e){function t(){var e,a,l,n;i(this,t);for(var o=arguments.length,r=Array(o),u=0;u<o;u++)r[u]=arguments[u];return a=l=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),l.title="Сортировка",l.items=_.sortDropdownItems,l.dropdownClass=function(){return l.state.active?"puzzle-movies__filter-item puzzle-movies__filter-item_right is-open":"puzzle-movies__filter-item puzzle-movies__filter-item_right"},l.sendTo=function(e){"function"==typeof l.props.onSelect&&l.props.onSelect(e)},l.singleToggleSelected=function(e){l.sendTo(e),l.setState({selected:e}),l.toggleDropdown()},l.singleItem=function(e){var t=l.state.selected===e.key?"check-box__target check-box__target_bgc_gray-e2e2e2 check-box__target_size_large check-box__target_checked":"check-box__target check-box__target_bgc_gray-e2e2e2 check-box__target_size_large";return c.default.createElement("div",{className:"checkbox-line checkbox-line_style_white j-checkbox-line  puzzle_va_middle"},c.default.createElement("div",{className:"checkbox-line__target check-box check-box_size_large puzzle_va_middle"},c.default.createElement("input",{type:"checkbox",name:"",style:{display:"none"}}),c.default.createElement("span",{className:t})))},l.getTitle=function(){return l.title+": "+_.sortDropdownItems[l.state.selected].value.toLowerCase()},l.singleDropdownItem=function(e){var t=l.state.selected===e.key?"puzzle-movies__filter-menu-item puzzle-movies__filter-menu-item_min is-active":"puzzle-movies__filter-menu-item puzzle-movies__filter-menu-item_min";return c.default.createElement("div",{key:e.key,onClick:function(){return l.singleToggleSelected(e.key)},className:t},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement("div",{className:"col-xs-10 puzzle_ta_left"},c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16"},e.value)),l.state.selected===e.key&&c.default.createElement("div",{className:"col-xs-2 puzzle_ta_right",style:{height:14}},c.default.createElement("i",{className:"puzzle-icon",style:{width:19,height:14}},m.checkIcon))))},n=a,s(l,n)}return n(t,e),t}(d.default),g=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.singleItem=function(e){var t=a.state.selected===e.key?"puzzle-movies__category-item is-active":"puzzle-movies__category-item";return c.default.createElement("div",{className:t,key:e.key,onClick:function(){return a.setSelected(e.key)}},c.default.createElement("i",{className:"puzzle-movies__category-item-icon puzzle-icon puzzle_va_middle puzzle_mr_5"},e.icon),c.default.createElement("span",{className:"puzzle-movies__category-item-text puzzle_va_middle"},e.value," "),c.default.createElement("span",{className:"puzzle-movies__category-item-num puzzle_va_middle",style:{marginLeft:5}},"(",e.count,e.hidden>0&&c.default.createElement("span",null," / ",e.hidden),")"))},a.items=[{key:0,value:"Все",count:a.props.counts.shows+a.props.counts.movies+a.props.counts.cartoons,hidden:a.props.counts.hiddenShows+a.props.counts.hiddenMovies+a.props.counts.hiddenCartoons,icon:m.allIcon},{key:1,value:"Сериалы",count:a.props.counts.shows,hidden:a.props.counts.hiddenShows,icon:m.showIcon},{key:3,value:"Фильмы",count:a.props.counts.movies,hidden:a.props.counts.hiddenMovies,icon:m.movieIcon},{key:4,value:"Мультфильмы",count:a.props.counts.cartoons,hidden:a.props.counts.hiddenCartoons,icon:m.cartoonIcon}],a.state={selected:a.props.selected},a}return n(t,e),o(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"col-xs-12 col-sm-7 col-md-8"},this.switcherItems())}}]),t}(f.default),E=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.items=[{key:0,value:"Обложки",icon:m.posterIcon},{key:1,value:"Карточки",icon:m.cardIcon}],a.singleItem=function(e){var t=a.state.selected===e.key?"puzzle-switcher__item puzzle-my-dictionary__switcher-wrap-item is-active":"puzzle-switcher__item puzzle-my-dictionary__switcher-wrap-item";return c.default.createElement("a",{className:t,key:e.key,onClick:function(){return a.setSelected(e.key)}},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle puzzle_mr_10",style:{width:22,height:18}},e.icon),c.default.createElement("span",{className:"puzzle_va_middle"},e.value))},a.state={selected:a.props.selected},a}return n(t,e),o(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"puzzle_va_middle puzzle-my-dictionary__switcher-wrap puzzle_mr_10"},c.default.createElement("div",{className:"puzzle-switcher puzzle-switcher_size_l puzzle-switcher_type_buttons"},this.switcherItems()))}}]),t}(f.default),w=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),o(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"col-xs-12 col-sm-1 col-md-3 puzzle_ta_right"},c.default.createElement("i",{className:"puzzle-movies__category-eye puzzle-movies__category-eye_js_tooltip is-active puzzle-icon puzzle_mr_30"}),c.default.createElement("div",{id:"categoryEyeTooltipContent"},c.default.createElement("div",{className:"checkbox-line checkbox-line_style_white j-checkbox-line puzzle_va_middle"},c.default.createElement("div",{className:"checkbox-line__target check-box check-box_size_xl puzzle_va_middle"},c.default.createElement("input",{type:"checkbox",name:""}),c.default.createElement("span",{className:"check-box__target check-box__target_bgc_gray-e2e2e2 check-box__target_size_xl"}))),c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16 puzzle_ml_10"},"Скрывать",c.default.createElement("br",null),"просмотренные")))}}]),t}(f.default);t.SeenSwitcher=w,t.CardSwitcher=E,t.TypeSwitcher=g,t.AccentDropdown=v,t.DifficultyDropdown=h,t.GenreDropdown=z,t.YearDropdown=y,t.SortDropdown=b},742:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(8),d=l(u),p=a(60),f=a(19),m=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.moviesArr=[],a.currentIndex=0,a.offset=1,a.processData=function(e){var t=e;return t.poster=e.media_type<3?"https://static.puzzle-movies.com/series/video/"+e.slug+"/large.jpg":"https://static.puzzle-movies.com/movies/"+e.slug+"/large.jpg",t.rating=Math.round(10*e.rating)/10,t.url=e.media_type<3?"/"+e.slug:"/films/"+e.slug,t.editorText=e.editorial.replace(/(?:\r\n|\r|\n)+/g,"<br />"),t},a.getMore=function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};a.setState({loading:!0}),d.default.post("/api2/movies/getMoviesOfTheDay",{count:10,page:a.offset,skip:1,web:!0}).then(function(e){a.offset++,Array.prototype.push.apply(a.moviesArr,e.data),a.setMovie()})},a.getGenres=function(){for(var e=[],t=a.state.currentMovie.genres.length,l=0;l<t;l++)e.push(c.default.createElement("span",{key:"genre:"+l,className:"puzzle-link_style_white"},c.default.createElement("a",{className:"puzzle-link_style_white",href:"/?genre="+a.state.currentMovie.genres[l]},p.genreList[a.state.currentMovie.genres[l]]))),l+1<t&&e.push(", ");return e.map(function(e){return e})},a.setMovie=function(){a.setState({currentMovie:a.processData(a.moviesArr[a.currentIndex]),loading:!1})},a.showPrev=function(){void 0===a.moviesArr[++a.currentIndex]?a.getMore():a.setMovie()},a.showNext=function(){a.currentIndex--,a.setMovie()},a.getRating=function(){for(var e=[],t=void 0,l=void 0,i=0;i<10;i++)l=a.state.currentMovie.rating>i?"puzzle-icon series-films__info-star is-fill puzzle_va_middle":"puzzle-icon series-films__info-star puzzle_va_middle",t=c.default.createElement("i",{className:l,style:{width:18,height:16}},f.starIcon),e.push(t);return e},a.state={currentMovie:a.processData(a.props.movieOfTheDay),loading:!1},a.moviesArr.push(a.props.movieOfTheDay),a}return n(t,e),o(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return c.default.createElement("div",{id:"dayFilm",className:"puzzle-movies__day-film puzzle-box puzzle-box_type_pesni puzzle-box_style_blue "+(this.state.loading?" loading":"")},c.default.createElement("div",{className:"preloader"},c.default.createElement("div",{className:"loader"})),c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"puzzle-movies__day-film-ribbon"},c.default.createElement("div",null,"Фильм дня"),c.default.createElement("a",{href:"/movies-of-the-day",className:"puzzle-movies__day-film-ribbon-archive"},"Архив")),c.default.createElement("div",{className:"series-films__info"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-sm-4"},c.default.createElement("div",{id:"topFilmSlider",className:"series-films__info-poster"},c.default.createElement("div",{className:"series-films__info-poster-content"},c.default.createElement("a",{href:this.state.currentMovie.url,className:"series-films__info-poster-content-item"},c.default.createElement("img",{src:this.state.currentMovie.poster,className:"puzzle_img_responsive",alt:this.state.currentMovie.title_en}))),c.default.createElement("div",{className:"series-films__info-poster-pages"}))),c.default.createElement("div",{className:"col-xs-12 col-sm-8"},c.default.createElement("div",{className:"puzzle-movies__day-film-info"},c.default.createElement("div",{className:"row middle-xs series-films__info-table-row"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"series-films__info-top"},c.default.createElement("div",{className:"series-films__info-type puzzle_va_middle"},"Фильм"+(this.currentIndex&&!this.state.loading?", "+this.state.currentMovie.date_text:"")),this.state.currentMovie.age_limit>15&&c.default.createElement("div",{className:"puzzle-movies__selected-popup-age puzzle-movies__selected-popup-age_type_static puzzle_va_middle puzzle_ml_10"},c.default.createElement("span",{className:"puzzle-movies__selected-popup-age-num"},this.state.currentMovie.age_limit,"+"))))),c.default.createElement("div",{className:"series-films__info-title puzzle_mb_10"},c.default.createElement("span",{className:"puzzle-text_lh_1-2 puzzle-text_fz_38"},this.state.currentMovie.title_en)),c.default.createElement("div",{className:"series-films__info-subtitle"},this.state.currentMovie.title_ru),c.default.createElement("div",{className:"series-films__info-table puzzle-text_style_white puzzle-text_fz_16 puzzle_mt_40"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"row middle-xs series-films__info-table-row"},c.default.createElement("div",{className:"col-xs-6 col-sm-3"},"Год выпуска:"),c.default.createElement("div",{className:"col-xs-6 col-sm-6"},c.default.createElement("span",{className:"puzzle-link_style_white"},this.state.currentMovie.release_year))),c.default.createElement("div",{className:"row middle-xs series-films__info-table-row"},c.default.createElement("div",{className:"col-xs-6 col-sm-3"},"Страна:"),c.default.createElement("div",{className:"col-xs-6 col-sm-6"},c.default.createElement("span",{className:"puzzle-link_style_white"},this.state.currentMovie.country))),c.default.createElement("div",{className:"row middle-xs series-films__info-table-row series-films__info-table-genre"},c.default.createElement("div",{className:"col-xs-6 col-sm-3"},"Жанр:"),c.default.createElement("div",{className:"col-xs-6 col-sm-6"},this.getGenres())),c.default.createElement("div",{className:"row middle-xs series-films__info-table-row"},c.default.createElement("div",{className:"col-xs-6 col-sm-3"},"Длительность:"),c.default.createElement("div",{className:"col-xs-6"},this.state.currentMovie.duration_text)),c.default.createElement("div",{className:"row puzzle_mb_25"},c.default.createElement("div",{className:"col-xs-12 col-sm-3"},"Рейтинг:"),c.default.createElement("div",{className:"col-xs-12 col-sm-6"},this.getRating(),c.default.createElement("div",{className:"puzzle_va_middle puzzle_ml_10"},this.state.currentMovie.rating))),c.default.createElement("div",{className:"puzzle-movies__day-film-review puzzle_mb_35"},c.default.createElement("div",{className:"puzzle-movies__day-film-review-title"},"От редактора Puzzle English:"),c.default.createElement("div",{className:"puzzle-movies__day-film-review-content",dangerouslySetInnerHTML:{__html:this.state.currentMovie.editorText}})),c.default.createElement("div",{className:"row center-xs start-sm"},c.default.createElement("div",{
className:"col-xs-12"},c.default.createElement("a",{className:"border-link border-link_style_white puzzle-movies__day-film-watch-movie-link",href:this.state.currentMovie.url},"Смотреть"))))))))),c.default.createElement("div",{onClick:this.showPrev,className:"series-films__nav series-films__nav-left",style:{width:24,height:61}},f.seriesFilmsNavIcon),0!==this.currentIndex&&c.default.createElement("div",{onClick:this.showNext,className:"series-films__nav series-films__nav_right",style:{width:24,height:61}},f.seriesFilmsNavIcon))))}}]),t}(r.Component);t.default=m},743:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(105),d=a(19),p=a(299),f=l(p),m="/",_=c.default.createElement("div",{className:"row center-xs"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("span",{className:"puzzle-movies__back-link puzzle-link puzzle-text_fz_16"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle",style:{width:12,height:19}},d.arrowLeft),c.default.createElement("span",{className:"puzzle_va_middle puzzle-link puzzle-link_type_border",style:{marginLeft:10}},"Назад")))),v=function(e){function t(e){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return n(t,e),o(t,[{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("section",{className:"puzzle-movies-top"},c.default.createElement("div",{className:"container-fluid-1600"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3",style:{paddingBottom:50}},c.default.createElement(u.Link,{to:m},_),c.default.createElement(f.default,{onSearch:this.props.onSearch,showResult:this.props.showFound,foundVideos:this.props.foundVideos}))))))}}]),t}(r.Component);t.default=v},744:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(746),d=l(u),p=a(747),f=l(p),m=a(19),_=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.pagesPaginator=0,a.perPage=0,a.notFound=c.default.createElement("div",{className:"row puzzle_mt_50 puzzle_mb_80"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"puzzle-text_fz_30 puzzle-text_fw_300 puzzle_ta_center"},"Нет видео"))),a.handleResize=function(){var e=0===a.state.cardType?10*Math.floor((a.divContainer.offsetWidth+30)/230):10*Math.floor((a.divContainer.offsetWidth+30)/330);a.setState({perPage:e})},a.paginator=function(e){a.setState({page:a.state.page+e}),window.scrollTo(0,a.divContainer.offsetTop-120)},a.getContent=function(){var e=a.props.videos.length;if(0===e)return a.pagesPaginator=0,"undefined"==typeof a.props.mainPage||a.props.mainPage?a.notFound:null;a.pagesPaginator=Math.ceil(e/a.state.perPage);var t=(a.state.page-1)*a.state.perPage,l=a.state.page*a.state.perPage,i=[];for(t;t<l&&t<e;t++)i.push(a.props.videos[t]);var s=i.map(function(e){return 0===a.state.cardType?c.default.createElement(d.default,{item:e,key:e.movie_id}):c.default.createElement(f.default,{item:e,key:e.movie_id})});return s},a.state={page:1,perPage:0,videos:a.props.videos,counter:0,cardType:a.props.cardType},a}return n(t,e),o(t,[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({cardType:e.cardType,page:1},function(){return t.handleResize()})}},{key:"render",value:function(){var e=this,t=0===this.state.cardType?"puzzle-movies__content-items":"puzzle-movies__content-items puzzle-movies__content-items-cards puzzle_mt_40";return c.default.createElement("div",{className:"container-fluid-1600",style:{marginBottom:60}},c.default.createElement("section",{className:t,ref:function(t){return e.divContainer=t}},this.getContent()),this.pagesPaginator>1&&c.default.createElement("div",{className:"row center-xs puzzle_mt_40 puzzle_mb_50"},c.default.createElement("div",{className:"col-xs-12"},this.state.page>1&&c.default.createElement("div",{className:"puzzle-movies__selected-prew puzzle_va_middle puzzle_mb_20"},c.default.createElement("i",{onClick:function(){return e.paginator(-1)},className:"puzzle-icon puzzle-icon_fill_black puzzle_va_middle puzzle_pl_20",style:{width:13,height:24}},m.arrowThinRight),c.default.createElement("span",{onClick:function(){return e.paginator(-1)},className:"puzzle_va_middle puzzle_mr_20 puzzle-link puzzle-link_style_black puzzle-link_style_dashed"},"Предыдущая страница")),this.state.page<this.pagesPaginator&&c.default.createElement("div",{className:"puzzle-movies__selected-next puzzle_va_middle puzzle_mb_20"},c.default.createElement("span",{onClick:function(){return e.paginator(1)},className:"puzzle_va_middle puzzle_ml_20 puzzle-link puzzle-link_style_black puzzle-link_style_dashed"},"Следующая страница"),c.default.createElement("i",{onClick:function(){return e.paginator(1)},className:"puzzle-icon puzzle-icon_fill_black puzzle_va_middle puzzle_pl_20",style:{width:13,height:24}},m.arrowThinRight)))))}}]),t}(r.Component);t.default=_},745:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(19),d=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.showMore=!1,a.handleResize=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=window.innerWidth>1600?1600:window.innerWidth,l=Math.floor((t+10)/146);return e?l:void a.setState({perTab:l})},a.shrinkToFit=function(e){var t=e.length%a.perRow,l=e.length-t-1;return e.splice(l,t),e},a.setActiveTab=function(e){a.state.activeTab!==e&&a.setState({activeTab:e,tabShowAll:!1})},a.tabsHeader=function(){var e=[];return a.tabData.forEach(function(t){if(t.count>0){var l=t.key===a.state.activeTab?"puzzle-tabs__item puzzle-tabs__item_js_click puzzle_mr_5 puzzle-tabs__item_status_active":"puzzle-tabs__item puzzle-tabs__item_js_click puzzle_mr_5",i=c.default.createElement("a",{key:t.key,className:l,onClick:function(){return a.setActiveTab(t.key)}},c.default.createElement("span",{className:"puzzle-movies__top-tabs-title puzzle_va_middle"},t.title),c.default.createElement("span",{className:"puzzle-movies__top-tabs-num puzzle_va_middle",style:{marginLeft:5}},"(",t.count,")"));e.push(i)}}),c.default.createElement("div",{className:"puzzle-movies__top-tabs"},c.default.createElement("div",{className:"puzzle-tabs puzzle-tabs_type_border-bottom is-premium puzzle-tabs_style_light-blue puzzle-tabs_top puzzle-tabs_size_m puzzle_va_top"},e))},a.tabsContent=function(){var e=a.tabData[a.state.activeTab];return a.showMore=e.count>a.state.perTab,e.videos.map(function(e,t){var l=void 0;switch(e.media_type){case 1:l=u.premiumIcon;break;case 2:l=u.showIcon;break;case 3:l=u.movieIcon;break;case 4:l=u.cartoonIcon;break;default:l=u.movieIcon}if(a.state.tabShowAll||t<=a.state.perTab-1)return c.default.createElement("div",{key:e.movie_id,className:"puzzle-movies__selected-item"},c.default.createElement("a",{href:e.videoURl},c.default.createElement("div",{className:"puzzle-movies__selected-poster"},c.default.createElement("img",{src:e.posterUrl,alt:e.title_en,className:"puzzle-movies__selected-img"}),e.update_text&&1===a.state.activeTab&&c.default.createElement("div",{className:"puzzle-movies__selected-ribbon puzzle-ribbon puzzle-ribbon_style_red puzzle-movies__selected-ribbon_update-type"},c.default.createElement("span",{className:"puzzle-text_ff_arial puzzle-text_fz_12"},e.update_text)),c.default.createElement("div",{className:"puzzle-movies__selected-info"},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement("div",{className:"col-xs-6"},c.default.createElement("i",{className:"puzzle-movies__selected-info-icon puzzle-icon",style:{width:15,height:17}},l)),c.default.createElement("div",{className:"col-xs-6 puzzle_ta_right"},c.default.createElement("div",{className:"puzzle-movies__selected-info-rate"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle",style:{width:15,height:13,marginTop:-1}},u.topBarStarIcon),c.default.createElement("span",{className:"puzzle_va_middle"},e.raiting))))),e.age_limit>15&&c.default.createElement("div",{className:e.age_limit>17?"puzzle-movies__selected-popup-age puzzle_va_top puzzle-movies__selected-popup-age_18-years":"puzzle-movies__selected-popup-age puzzle_va_top"},c.default.createElement("span",{className:"puzzle-movies__selected-popup-age-num"},e.age_limit,"+")),e.is_hidden&&c.default.createElement("div",{className:"puzzle-movies__selected-ribbon puzzle-ribbon puzzle-ribbon_style_red puzzle-ribbon_size_m"},c.default.createElement("span",{className:"puzzle-text_ff_arial puzzle-text_fz_14"},"Черновик")))),c.default.createElement("div",{className:"puzzle-movies__selected-title"},c.default.createElement("a",{href:e.videoURl},e.title_en)))})},a.setTabsShowAll=function(){a.setState({tabShowAll:!a.state.tabShowAll})},a.perRow=a.handleResize(!0);var l=a.shrinkToFit(a.props.newVideos),n=a.shrinkToFit(a.props.watchingNow);return a.tabData=[{title:"Избранное",key:0,count:a.props.userFavorites.length,videos:a.props.userFavorites,link:"/favorites"},{title:"Поступления",key:1,count:l.length,videos:l,link:"/new-videos"},{title:"Сейчас смотрят",key:2,count:n.length,videos:n,link:"/now-watching"}],a.state={activeTab:1,tabShowAll:!1,perTab:a.perRow},a}return n(t,e),o(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this,t=this.props.movieOfTheDay.media_type<3?"https://static.puzzle-movies.com/series/video/"+this.props.movieOfTheDay.slug+"/small.jpg":"https://static.puzzle-movies.com/movies/"+this.props.movieOfTheDay.slug+"/small.jpg";return c.default.createElement("div",null,c.default.createElement("section",{className:"puzzle-movies-top"},c.default.createElement("div",{className:"container-fluid-1600"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-sm-8 col-md-8 col-md-offset-2"},c.default.createElement("div",{className:"puzzle-movies-top-title"},"Фильмы, сериалы и мультфильмы на английском")),this.props.movieOfTheDay.movie_id&&c.default.createElement("div",{className:"col-xs-12 col-sm-4 col-md-2 puzzle_ta_right first-xs last-sm"},c.default.createElement("a",{href:"#dayFilm",className:"puzzle-movies__top-notif scrollTO"},c.default.createElement("div",{className:"puzzle-movies__top-notif-pic puzzle_va_middle"},c.default.createElement("img",{src:t,alt:this.props.movieOfTheDay.title_en})),c.default.createElement("div",{className:"puzzle-movies__top-notif-text puzzle_va_middle"},c.default.createElement("div",{className:"puzzle-movies__top-notif-link"},c.default.createElement("span",null,"Фильм дня")),c.default.createElement("div",{className:"puzzle-movies__top-notif-info"},"Выбор редакции"))))),this.tabsHeader())),c.default.createElement("section",{className:"puzzle-movies__selected"},c.default.createElement("div",{className:"container-fluid-1600"},this.tabsContent()),this.showMore&&!this.state.tabShowAll&&c.default.createElement("div",{className:"puzzle-text_fz_16 puzzle_ta_center puzzle_mt_25"},c.default.createElement("span",{className:"puzzle-link puzzle-link_style_dashed puzzle-link_style_dashed_hover",onClick:function(){return e.setTabsShowAll()}},"Полный список")),this.showMore&&this.state.tabShowAll&&c.default.createElement("div",{className:"puzzle-text_fz_16 puzzle_ta_center puzzle_mt_25"},c.default.createElement("span",{className:"puzzle-link puzzle-link_style_dashed puzzle-link_style_dashed_hover",onClick:function(){return e.setTabsShowAll()}},"Свернуть список"))))}}]),t}(r.Component);t.default=d},746:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(60),d=a(19),p=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.item=a.props.item,a}return n(t,e),o(t,[{key:"render",value:function(){var e=!1;switch(this.item.accent){case 1:e=c.default.createElement("div",{className:"b-slide_footer__accent"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-uk"}));break;case 2:e=c.default.createElement("div",{className:"b-slide_footer__accent"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-us"}));break;case 3:e=c.default.createElement("div",{className:"b-slide_footer__accent"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-au"}));break;default:e=c.default.createElement("div",null)}var t=this.item.genres.map(function(e){return u.genreList[e]+" "}),a=void 0;return a=this.item.media_type<3?"https://static.puzzle-movies.com/series/video/"+this.item.slug+"/medium.jpg":"https://static.puzzle-movies.com/movies/"+this.item.slug+"/medium.jpg",c.default.createElement("div",{className:"puzzle-movies__selected-item"},c.default.createElement("a",{href:this.item.videoURl},c.default.createElement("div",{className:"puzzle-movies__selected-poster"},c.default.createElement("img",{src:a,alt:this.item.title_en,className:"puzzle-movies__selected-img"}),!window.user.payed&&(1==this.item.media_type||2==this.item.media_type)&&"undefined"!=typeof this.item.free_count&&this.item.free_count&&c.default.createElement("div",{className:"puzzle-movies__selected-ribbon puzzle-ribbon puzzle-ribbon_style_red puzzle-ribbon_size_m"},c.default.createElement("span",{className:"puzzle-text_ff_arial puzzle-text_fz_14"},"1 бесплатная серия")),1==this.item.is_hidden&&c.default.createElement("div",{className:"puzzle-movies__selected-ribbon puzzle-ribbon puzzle-ribbon_style_red puzzle-ribbon_size_m"},c.default.createElement("span",{className:"puzzle-text_ff_arial puzzle-text_fz_14"},"Черновик")),c.default.createElement("div",{className:"puzzle-movies__selected-info"},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement("div",{className:"col-xs-9"},c.default.createElement("div",{className:"puzzle-movies__selected-info-genre puzzle_va_top"},this.item.mediaType)),c.default.createElement("div",{className:"col-xs-3 puzzle_ta_right puzzle_pl_0"},c.default.createElement("div",{className:"puzzle-movies__selected-info-rate"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_top"},d.starIcon),c.default.createElement("span",{className:"puzzle_va_top"},this.item.raiting))))),this.item.age_limit>15&&c.default.createElement("div",{className:this.item.age_limit>17?"puzzle-movies__selected-popup-age puzzle_va_top puzzle-movies__selected-popup-age_18-years":"puzzle-movies__selected-popup-age puzzle_va_top"},c.default.createElement("span",{className:"puzzle-movies__selected-popup-age-num"},this.item.age_limit,"+")),c.default.createElement("div",{className:"puzzle-movies__selected-popup"},c.default.createElement("div",{className:"puzzle-movies__selected-popup-top"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-8"},this.item.difficulty&&c.default.createElement("div",{className:"puzzle-movies__selected-popup-level puzzle_va_top puzzle_mr_15"},c.default.createElement("div",{className:"b-slide_footer__level m-slide_footer__level-"+this.item.difficulty},c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}))),e&&c.default.createElement("div",{className:"puzzle-movies__selected-popup-accents puzzle_va_middle"},e)))),c.default.createElement("div",{className:"puzzle-movies__selected-popup-content"},c.default.createElement("div",{className:"puzzle_mb_20"},c.default.createElement("div",{className:"puzzle-text_fw_bold"},this.item.title_en),this.item.title_ru),c.default.createElement("div",null,c.default.createElement("div",null,t),c.default.createElement("div",null,this.item.release_year))),c.default.createElement("div",{className:"puzzle-movies__selected-popup-bottom"})))),c.default.createElement("div",{className:"puzzle-movies__selected-title"},c.default.createElement("a",{href:this.item.videoURl},this.item.title_en)))}}]),t}(r.Component);t.default=p},747:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(60),d=a(19),p=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onAboutClick=function(){"function"==typeof a.props.onAboutClick&&a.props.onAboutClick(a.item.slug)},a.item=a.props.item,a}return n(t,e),o(t,[{key:"render",value:function(){var e=!1;switch(this.item.accent){case 1:e=c.default.createElement("div",{className:"b-slide_footer__accent"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-uk"}));break;case 2:e=c.default.createElement("div",{className:"b-slide_footer__accent"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-us"}));break;case 3:e=c.default.createElement("div",{className:"b-slide_footer__accent"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-au"}));break;default:e=c.default.createElement("div",null)}var t=this.item.genres.map(function(e){return u.genreList[e]+" "}),a=void 0;a=this.item.media_type<3?"https://static.puzzle-movies.com/series/video/"+this.item.slug+"/medium.jpg":"https://static.puzzle-movies.com/movies/"+this.item.slug+"/medium.jpg";var l=void 0,i=void 0;if(this.item.media_type<3){var s=this.item.counts_publish.seasons%10,n=this.item.counts_publish.episodes%10;this.item.counts_publish.seasons>10&&this.item.counts_publish.seasons<20&&(l="сезонов"),l=1===s?"сезон":s>1&&s<5?"сезона":"сезонов",i=this.item.counts_publish.episodes>10&&this.item.counts_publish.episodes<20?"серий":n>1&&n<5?"серии":1===n?"серия":"серий"}return c.default.createElement("div",{className:"puzzle-movies__selected-item"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-6"},c.default.createElement("a",{href:this.item.videoURl},c.default.createElement("div",{className:"puzzle-movies__selected-poster puzzle_va_middle"},c.default.createElement("img",{className:"puzzle-movies__selected-img",src:a,alt:this.item.title_en}),c.default.createElement("div",{className:"puzzle-movies__selected-info"},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement("div",{className:"col-xs-9"},c.default.createElement("div",{className:"puzzle-movies__selected-info-genre puzzle_va_top"},this.item.mediaType)),c.default.createElement("div",{className:"col-xs-3 puzzle_ta_right puzzle_pl_0"},c.default.createElement("div",{className:"puzzle-movies__selected-info-rate"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_top"},d.starIcon),c.default.createElement("span",{className:"puzzle_va_top"},this.item.raiting))))),1==this.item.is_hidden&&c.default.createElement("div",{className:"puzzle-movies__selected-ribbon puzzle-ribbon puzzle-ribbon_style_red puzzle-ribbon_size_m"},c.default.createElement("span",{className:"puzzle-text_ff_arial puzzle-text_fz_14"},"Черновик"))))),c.default.createElement("div",{className:"col-xs-6"},c.default.createElement("div",{className:"puzzle-movies__selected-right puzzle_va_middle"},c.default.createElement("div",{className:"puzzle-movies__selected-popup-top puzzle_mb_15"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"puzzle-movies__selected-popup-level puzzle_va_middle puzzle_mr_5"},c.default.createElement("div",{className:"b-slide_footer__level m-slide_footer__level-"+this.item.difficulty},c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}))),c.default.createElement("div",{className:"puzzle-movies__selected-popup-accents puzzle_va_middle"},c.default.createElement("div",{className:"b-slide_footer__accent"},e)),this.item.age_limit>15&&c.default.createElement("div",{className:this.item.age_limit>17?"puzzle-movies__selected-popup-age puzzle-movies__selected-popup-age_type_static puzzle_va_middle puzzle_ml_10 puzzle-movies__selected-popup-age_18-years":"puzzle-movies__selected-popup-age puzzle-movies__selected-popup-age_type_static puzzle_va_middle puzzle_ml_10"},c.default.createElement("span",{className:"puzzle-movies__selected-popup-age-num"},this.item.age_limit,"+"))))),c.default.createElement("div",{className:""},c.default.createElement("div",{className:"puzzle-movies__selected-popup-content-title puzzle_mb_10"},c.default.createElement("a",{href:this.item.videoURl},this.item.title_en)),c.default.createElement("div",{className:"puzzle-movies__selected-popup-content-subtitle puzzle_mb_15"},this.item.title_ru),c.default.createElement("div",{className:"puzzle-movies__selected-popup-content-small"},this.item.media_type<3&&c.default.createElement("div",null,this.item.counts_publish.seasons," ",l,", ",this.item.counts_publish.episodes," ",i),c.default.createElement("div",null,t),c.default.createElement("div",null,this.item.release_year)))))))}}]),t}(r.Component);t.default=p},748:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(19),d=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={active:!1},a.multiple=!1,a.title="",a.items=[],a.type=0,a.onBlur=function(){a.multiple?a.setState({active:!1}):a.setState({active:!1})},a.toggleDropdown=function(){a.setState({active:!a.state.active})},a.sendTo=function(e){"function"==typeof a.props.onSelect&&a.props.onSelect(a.type,e)},a.singleToggleSelected=function(e){a.sendTo(e)},a.toggleSelected=function(e){a.sendTo(e)},a.singleItem=function(e){var t=a.state.selected[e.key]?"check-box__target check-box__target_bgc_gray-e2e2e2 check-box__target_size_large check-box__target_checked":"check-box__target check-box__target_bgc_gray-e2e2e2 check-box__target_size_large";return c.default.createElement("div",{className:"checkbox-line checkbox-line_style_white j-checkbox-line  puzzle_va_middle"},c.default.createElement("div",{className:"checkbox-line__target check-box check-box_size_large puzzle_va_middle"},c.default.createElement("input",{type:"checkbox",name:"",style:{display:"none"}}),c.default.createElement("span",{className:t})))},a.multipleItem=function(e){var t=a.state.selected[e.key]?"check-box__target check-box__target_bgc_gray-e2e2e2 check-box__target_size_large check-box__target_checked":"check-box__target check-box__target_bgc_gray-e2e2e2 check-box__target_size_large";return c.default.createElement("div",{onClick:function(){return a.toggleSelected(e.key)},className:"checkbox-line checkbox-line_style_white j-checkbox-line  puzzle_va_middle"},c.default.createElement("div",{className:"checkbox-line__target check-box check-box_size_large puzzle_va_middle"},c.default.createElement("input",{type:"checkbox",name:"",style:{display:"none"}}),c.default.createElement("span",{className:t})))},a.multipleDropdownItem=function(e){return c.default.createElement("div",{key:e.key,className:"puzzle-movies__filter-menu-item"},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement("div",{className:"puzzle_ta_left col-xs-2"},a.multipleItem(e)),c.default.createElement("div",{className:"col-xs-"+("undefined"!=typeof e.style_flag&&""!=e.style_flag?"8":"10")},c.default.createElement("div",{onClick:function(){return a.singleToggleSelected(e.key)},className:"puzzle_va_middle puzzle-text_fz_16"},e.value)),"undefined"!=typeof e.style_flag&&""!=e.style_flag&&c.default.createElement("div",{className:"col-xs-2 puzzle_ta_right"},c.default.createElement("div",{className:"b-slide_footer__accent_img m-slide_footer__accent_img-"+e.style_flag}))))},a.singleDropdownItem=function(e){return c.default.createElement("div",{key:e.key,onClick:function(){return a.singleToggleSelected(e.key)},className:"puzzle-movies__filter-menu-item"},c.default.createElement("div",{className:"row middle-xs"},c.default.createElement("div",{className:"col-xs-3 puzzle_ta_left"},a.singleItem(e)),c.default.createElement("div",{className:"col-xs-9"},c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16"},e.value))))},a.dropDownItems=function(){return a.items.map(function(e){return a.multiple?a.multipleDropdownItem(e):a.singleDropdownItem(e)})},a.dropdownClass=function(){return a.state.active?"puzzle-movies__filter-item is-open":"puzzle-movies__filter-item"},a.getTitle=function(){return a.title},a.state={selected:"undefined"!=typeof a.props.selected?a.props.selected:0},a}return n(t,e),o(t,[{key:"componentWillReceiveProps",value:function(){"undefined"!=typeof this.props.selected&&this.setState({selected:this.props.selected})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:this.dropdownClass(),onBlur:function(){return e.onBlur()},tabIndex:-1},c.default.createElement("div",{onClick:this.toggleDropdown},c.default.createElement("span",{className:"puzzle-movies__filter-title puzzle_va_middle puzzle_mr_10"},this.getTitle()),c.default.createElement("i",{className:"puzzle-movies__filter-icon puzzle-icon puzzle_va_middle",style:{marginTop:2,width:13,height:8}},u.dropdownThinIcon)),this.state.active&&c.default.createElement("div",{className:"puzzle-movies__filter-menu"},this.dropDownItems()))}}]),t}(r.Component);t.default=d},749:function(e,t,a){"use strict";function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var n=a(0),o=function(e){function t(){var e,a,s,n;l(this,t);for(var o=arguments.length,r=Array(o),c=0;c<o;c++)r[c]=arguments[c];return a=s=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),s.state={selected:0},s.items=[],s.sendTo=function(e){"function"==typeof s.props.onSelect&&s.props.onSelect(e)},s.setSelected=function(e){s.setState({selected:e}),s.sendTo(e)},s.switcherItems=function(){return s.items.map(function(e){return s.singleItem(e)})},n=a,i(s,n)}return s(t,e),t}(n.Component);t.default=o},750:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(125),d=l(u),p=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.infoCol=function(e){return 1===window.serialInfo.media_type?c.default.createElement("td",{width:"20%",style:{textAlign:"right"}},c.default.createElement("div",{className:"series-light__table-dict-item series-light__table-dict-words puzzle_va_middle"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle puzzle_mr_5",style:{width:15,height:19}},d.default.book),c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16"},e.words_count)),c.default.createElement("div",{className:"series-light__table-dict-item-divider"}),c.default.createElement("div",{className:"series-light__table-dict-item series-light__table-dict-expr puzzle_va_middle"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle puzzle_mr_5",style:{width:16,height:19}},d.default.user),c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16"},e.phrases_count)),c.default.createElement("div",{className:"series-light__table-dict-item-divider"}),c.default.createElement("div",{className:"series-light__table-dict-item series-light__table-dict-test puzzle_va_middle"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle puzzle_mr_5",style:{width:19,height:19}},d.default.question),c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16"},e.tests_count))):c.default.createElement("td",{className:"puzzle-text_fz_16",width:"20%",style:{textAlign:"center"}},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle puzzle_mr_5",style:{width:19,height:19}},c.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},c.default.createElement("path",{d:"M9 0C4 0 0 4 0 9s4 9 9 9 9-4 9-9-4-9-9-9zm5 10H9c-.6 0-1-.4-1-1V3c0-.6.4-1 1-1s1 .4 1 1v5h4c.6 0 1 .4 1 1s-.4 1-1 1z",fill:"#c2c2c2"}))),c.default.createElement("span",{className:"puzzle_va_middle"},e.pspp))},a.langCol=function(e){return e.subs_exist.en&&e.subs_exist.ru?c.default.createElement("span",null,"ENG / RUS"):e.subs_exist.en?c.default.createElement("span",null,"ENG"):e.subs_exist.ru?c.default.createElement("span",null,"RUS"):void 0},a.rows=function(e,t){return window.user.can_watch_movie||t<1&&0===a.state.activeSeason?c.default.createElement("tr",{key:"episode:"+e.ID,className:"series-light__table-row"+(a.props.activeEpisodeID===e.ID?" series-light__table-row-active":"")},c.default.createElement("td",{width:"15%"},c.default.createElement("span",{className:"series-light__num-count puzzle_va_middle"},"Серия ",e.episode),c.default.createElement("div",{id:"iswatched"+e.ID,className:"b-list-serials__watch puzzle_va_middle puzzle_ml_5"+(e.is_watched?" status-watched":""),title:e.is_watched?"серия просмотрена":"отметить как просмотрено",onClick:function(){a.props.toggleWatched(e)}},c.default.createElement("i",{className:"puzzle-icon",style:{width:22,height:16}},d.default.check))),c.default.createElement("td",{className:"puzzle-text_fz_12 puzzle-text_c_9e9e9e-lightgray",width:"55%",style:{position:"relative"},onClick:function(){return a.props.setEpisode(e)}},c.default.createElement("span",{className:"series-light__table-play-btn english-button english-button_style_light-blue english-button_type_icon puzzle_va_middle"},c.default.createElement("i",{className:"puzzle-icon",style:{width:13,height:16}},d.default.playButton)),c.default.createElement("div",{className:"series-light__table-info puzzle_va_middle series-light__table-info-title-and-subtitle"},c.default.createElement("div",{className:"series-light__table-info-title"},e.title_en),c.default.createElement("div",{className:"series-light__table-info-subtitle"},e.title_ru)),!window.user.can_watch_movie&&c.default.createElement("span",{className:"label-red__light puzzle_ml_40 series-light__table-free-label"},"Ознакомительный просмотр")),c.default.createElement("td",{className:"series-light__table-info-subtitle",width:"10%",style:{textAlign:"center"}},a.langCol(e)),a.infoCol(e)):c.default.createElement("tr",{key:"episode:"+e.ID,className:"series-light__table-row series-light__table-row_status_disabled"},c.default.createElement("td",{width:"15%"},c.default.createElement("span",{className:"series-light__num-count puzzle_va_middle"},"Серия ",e.episode),c.default.createElement("div",{className:"b-list-serials__watch puzzle_va_middle puzzle_ml_5"+(e.is_watched?" status-watched":""),title:e.is_watched?"серия просмотрена":"отметить как просмотрено"},c.default.createElement("i",{className:"puzzle-icon",style:{width:22,height:16}},d.default.check))),c.default.createElement("td",{className:"puzzle-text_fz_12 puzzle-text_c_9e9e9e-lightgray",width:"55%",style:{position:"relative"}},c.default.createElement("span",{className:"series-light__table-play-btn english-button english-button_style_light-blue english-button_type_icon puzzle_va_middle"},c.default.createElement("i",{className:"puzzle-icon",style:{width:13,height:16}},d.default.playButton)),c.default.createElement("div",{className:"series-light__table-info puzzle_va_middle series-light__table-info-title-and-subtitle"},c.default.createElement("div",{className:"series-light__table-info-title"},e.title_en),c.default.createElement("div",{className:"series-light__table-info-subtitle"},e.title_ru))),c.default.createElement("td",{className:"series-light__table-info-subtitle",width:"10%",style:{textAlign:"center"}}),a.infoCol(e))},a.getRows=function(){return a.props.episodes[a.state.activeSeason].episodes.map(function(e,t){return a.rows(e,t)})},a.state={activeSeason:a.props.activeSeason},a}return n(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({activeSeason:e.activeSeason})}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"puzzle-box puzzle-box_style_white"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("table",{width:"100%",className:"series-light__table puzzle-text_fz_14"},c.default.createElement("thead",null,c.default.createElement("tr",{className:"series-light__table-row-head"},c.default.createElement("th",{className:"puzzle-text_fz_16",colSpan:"3"},c.default.createElement("div",{className:"puzzle_va_middle"},"Сезоны:"),c.default.createElement("div",{className:"paginator paginator_style_blue paginator_size_m puzzle_va_middle"},this.props.episodes.map(function(t,a){return c.default.createElement("div",{key:"season:"+a,className:"paginator__item"+(e.state.activeSeason===a?" paginator__item_status_active":""),onClick:function(){return e.props.setSeason(a)}},c.default.createElement("a",null,t.season))}))))),c.default.createElement("tbody",null,this.getRows()))))}}]),t}(r.Component);t.default=p},751:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(300),d=l(u),p=a(753),f=l(p),m=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.updatePlayer=!1,a.state={videoURL:""},a}return n(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;player.subs.onSubEnded=function(t){if(player.settings.getOption("autopause")&&player.autopause_allowed){player.subs.next_piece_allowed=!1;var a=player.subs.current_index;video_api.pause(),setTimeout(function(){player.subs.playPieceAudio(a,function(){player.subs.next_piece_allowed=!0,video_api.play(),player.subs.showCurrentPiece()})},200)}(e.videoChangeTime-video_api.currentTime()<0||t)&&e.props.onVideoEnded()}}},{key:"componentWillReceiveProps",value:function(e){var t=this;"undefined"!=typeof e.videoURL&&""!==e.videoURL&&(e.videoURL!==this.state.videoURL&&(this.updatePlayer=!0,video_api.pause(),$("#vid-subs").html("")),this.setState({videoURL:e.videoURL}),document.getElementById("video_html5_api").src=e.videoURL,document.getElementById("video_html5_api").onloadedmetadata=function(){t.videoChangeTime=video_api.duration()-30})}},{key:"componentDidUpdate",value:function(){window.videoSettingsControls(),this.updatePlayer&&(player.explanation.dir=window.video_path&&STATIC_HOME+video_path.replace("/series/video","/series/explanations"),player.quiz.hide(),this.updatePlayer=!1,vjs("video").ready(function(){var e=storage.get("episode"+window.post_id);audio.types=["mp3"],audio.init(),player.inited?($("#vid-subs").html(""),player.subslist.init(),localStorage.getItem("subsFontSizeNum")&&(player.subs.font_size=+localStorage.getItem("subsFontSizeNum"),video.find("#vid-subs").css("font-size",localStorage.getItem("subsFontSizeNum")+"px"),video.find("#vid-subslist-sub-current").css("font-size",localStorage.getItem("subsFontSizeNum")+"px"),video.find("#vid-subslist .sub .sub-container").css("font-size",localStorage.getItem("subsFontSizeNum")+"px"))):player.init(),window.setTimeout(function(){null!==e&&!video_api.ended()&&window.user.payed?player.playFromTime(e):video_api.play()},10)}))}},{key:"render",value:function(){return c.default.createElement("div",{className:"puzzle-box puzzle-box_style_white puzzle-box_size_xl puzzle-box_size_xl_xs puzzle-box_size_xl_sm"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"series-films__video-header"},c.default.createElement("div",{className:"row middle-xs puzzle_mb_15"},c.default.createElement("div",{className:"col-xs-6"},c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16 puzzle_mr_5"},"Сложность:"),c.default.createElement("div",{className:"puzzle-movies__selected-popup-level puzzle_va_middle puzzle_mr_30"},c.default.createElement("div",{className:"b-slide_footer__level m-slide_footer__level-"+window.serialInfo.difficulty},c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}),c.default.createElement("span",{className:"b-slide_footer__level_cell"}))),c.default.createElement("div",{className:"series-films__video-accent puzzle_va_middle"},c.default.createElement("div",{className:"puzzle_va_middle puzzle-text_fz_16 puzzle_mr_5"},"Акцент:"),c.default.createElement("div",{className:"series-films__video-accent_js_tooltip vocab-word__icon vocab-word__icon_flag vocab-word__icon_flag-"+window.serialInfo.accent,"data-content":window.serialInfo.accent_desc}))),c.default.createElement("div",{className:"col-xs-6 puzzle_ta_right"},c.default.createElement(d.default,{url:"https://puzzle-english.com",title:"Puzzle English - Настоящий английский по учебным фильмам и сериалам с двойными субтитрами",description:"Puzzle English - Настоящий английский по учебным фильмам и сериалам с двойными субтитрами",imgUrl:"https://static.puzzle-movies.com/movies/share-image-common.png"})))),c.default.createElement("div",{id:"seriesFilmsMainVideoContent",className:"seriesFilmsMainVideoContent"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"b-episode_media_container seriesFilmsMainVideoContent__media_container",style:{display:"block",height:0,paddingBottom:"56.25%",minHeight:0}},!window.user.can_watch_movie&&c.default.createElement("span",{className:"series-films__ten-minutes-free"},"Ознакомительный просмотр"),!window.user.can_watch_movie&&c.default.createElement(f.default,null),c.default.createElement("video",{id:"video",className:"video video-js seriesFilmsMainVideoContent__video",playsInline:!0}),window.user.can_watch_movie&&c.default.createElement("div",{className:"series-light__popup-feedback",style:{position:"absolute",bottom:-90}},c.default.createElement("div",{className:"english-button english-button_style_red english-button_size_m"},"Сообщить об ошибке"))))))))}}]),t}(c.default.Component);t.default=m},752:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(125),d=l(u),p=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.showExplanation=function(e){movie_popup.show_explanation(e.target)},a}return n(t,e),o(t,[{key:"render",value:function(){var e=this;return 0===this.props.explanations.length?null:c.default.createElement("div",{className:"puzzle-box puzzle-box_style_gray puzzle-box_size_xl puzzle-box_size_xl_xs puzzle-box_size_xl_sm"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"puzzle-text_fz_22 puzzle_mb_40 puzzle_ta_center"},"Объяснения выражений:"),c.default.createElement("div",{className:"writing__expr-words"},c.default.createElement("div",{className:"row"},this.props.explanations.map(function(t){return c.default.createElement("div",{className:"col-xs-12 col-sm-4 col-md-3",key:"explanation:"+t},c.default.createElement("div",{className:"writing__expr-words-item writing__expr-words-item_js_tooltip puzzle_mb_30"},c.default.createElement("i",{className:"puzzle-icon puzzle_va_middle",style:{width:20,height:24}},d.default.profile),c.default.createElement("span",{className:"puzzle_va_middle writing__expr-words-item-text",onClick:e.showExplanation},t)))})))))}}]),t}(c.default.Component);t.default=p},753:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),s=l(i),n=function(){return s.default.createElement("div",{className:"video_info video_info_adaptive",id:"free_user_content"},s.default.createElement("div",{className:"no-membership-notice"},s.default.createElement("p",{className:"line3"},"Вы можете смотреть 10 минут для ознакомления"),s.default.createElement("p",{className:"line1"},"Для продолжения просмотра оплатите доступ"),s.default.createElement("a",{href:"/prices",className:"english-button english-button_style_orange english-button_size_xl puzzle_mb_20"},"Посмотреть стоимость"),s.default.createElement("p",{className:"line2"},"Вы получите доступ ко всем Фильмам, Мультфильмам, Сериалам Premium и Light")))};t.default=n},754:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(6),d=l(u),p=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.tab=function(e,t){var l="puzzle-tabs__item puzzle_mr_5 puzzle-tabs-dictionary__item";return l+=a.props.activeTab===t?" puzzle-tabs__item_status_active":"",c.default.createElement("a",{className:l,key:"tab:"+e.title,onClick:function(){a.props.setTab(t)}},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-9 puzzle_ta_left"},e.title),c.default.createElement("div",{className:"col-xs-3 puzzle_ta_right"},c.default.createElement("span",{className:"puzzle-text_style_light-gray"},e.count))))},a.tabs=a.setTabs(a.props.episode.words_count,a.props.episode.phrases_count),a}return n(t,e),o(t,[{key:"setTabs",value:function(e,t){var a=[];return e>0&&a.push({title:(0,d.default)({l:"words_and_expressions",v:"слова и выражения",t:"first",n:"tasks"}),count:e}),t>0&&a.push({title:"Видеообъяснения",count:t}),a}},{key:"componentWillReceiveProps",value:function(e){this.tabs=this.setTabs(e.episode.words_count,e.episode.phrases_count)}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"puzzle-tabs puzzle-tabs_type_border-bottom is-premium puzzle-tabs_style_light-blue puzzle-tabs_top puzzle-tabs_size_xl puzzle_va_top"},this.tabs.map(function(t,a){return e.tab(t,a)}))))}}]),t}(c.default.Component);t.default=p},755:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(752),d=l(u),p=a(175),f=l(p),m=function(e){function t(e){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return n(t,e),o(t,[{key:"render",value:function(){return c.default.createElement("div",null,0===this.props.activeTab?c.default.createElement(f.default,null):c.default.createElement(d.default,{explanations:this.props.episodeData.explanations}))}}]),t}(c.default.Component);t.default=m},756:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),r=a(0),c=l(r),u=a(754),d=l(u),p=function(e){function t(e){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return n(t,e),o(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"puzzle-box puzzle-box_type_premium_episode puzzle-box_style_lightblue-gradient"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"puzzle-text_style_white puzzle_ta_center puzzle_pb_40"},c.default.createElement("div",{className:"puzzle-movies__breadcrumbs"},c.default.createElement("span",{onClick:this.props.showInfo,className:"puzzle-movies__breadcrumbs-link"}," ",window.serialInfo.title_en," / ",window.serialInfo.title_ru)," : ",c.default.createElement("span",{className:"puzzle-movies__breadcrumbs-text"},"сезон ",this.props.episode.season,", серия ",this.props.episode.episode)),c.default.createElement("div",{className:"puzzle-text_fw_300 puzzle-text_fz_38 puzzle_mb_10"},this.props.episode.title_en),c.default.createElement("div",{className:"puzzle-text_fz_18"},this.props.episode.title_ru)),1===window.serialInfo.media_type&&c.default.createElement(d.default,{episode:this.props.episode,activeTab:this.props.activeTab,setTab:this.props.setTab})))}}]),t}(c.default.Component);t.default=p},929:function(e,t){var a=function(e){return function(t){return t.split("").map(function(t){return e[t]||t}).join("")}};e.exports=function(e){var t={},l={};for(var i in e){var s=e[i];l[i]=s,t[s]=i;var n=i.toUpperCase();n!==i&&(l[n]=s.toUpperCase(),t[l[n]]=n)}return{fromEn:a(l),toEn:a(t)}}},930:function(e,t,a){var l=a(929),i={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","{":"Х","]":"ъ","}":"Ъ","|":"/","`":"ё","~":"Ё",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж",":":"Ж","'":"э",'"':"Э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б","<":"Б",".":"ю",">":"Ю","/":".","?":",","@":'"',"#":"№",$:";","^":":","&":"?"};e.exports=l(i)}},[1222]);